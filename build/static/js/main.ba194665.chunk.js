(this["webpackJsonpsecret-chat-ui"]=this["webpackJsonpsecret-chat-ui"]||[]).push([[0],{198:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return Me}));var r=n(0),a=n(65),c=n.n(a),o=n(27),s=n(80),i=n(235),u=n(233),l=n(48),d=n(24),b=n(39),j=n(2),h=function(){return Object(j.jsx)(b.a,{styles:"\n      /* Copied from https://fonts.googleapis.com/css2?family=Open+Sans:wght@700&family=Roboto+Mono&display=swap */\n      /* latin-ext */\n      @font-face {\n        font-family: 'Open Sans';\n        font-style: normal;\n        font-weight: 700;\n        font-display: swap;\n        src: url(https://fonts.gstatic.com/s/opensans/v18/mem5YaGs126MiZpBA-UN7rgOXOhpOqc.woff2) format('woff2');\n        unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n      }\n      /* latin */\n      @font-face {\n        font-family: 'Open Sans';\n        font-style: normal;\n        font-weight: 700;\n        font-display: swap;\n        src: url(https://fonts.gstatic.com/s/opensans/v18/mem5YaGs126MiZpBA-UN7rgOUuhp.woff2) format('woff2');\n        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n      }\n      /* latin-ext */\n      @font-face {\n        font-family: 'Roboto Mono';\n        font-style: normal;\n        font-weight: 400;\n        font-display: swap;\n        src: url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_SuW4Ep0.woff2) format('woff2');\n        unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;\n      }\n      /* latin */\n      @font-face {\n        font-family: 'Roboto Mono';\n        font-style: normal;\n        font-weight: 400;\n        font-display: swap;\n        src: url(https://fonts.gstatic.com/s/robotomono/v13/L0xuDF4xlVMF-BfR8bXMIhJHg45mwgGEFl0_3vq_ROW4.woff2) format('woff2');\n        unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;\n      }\n      "})},f=n(17),x=n(70),p=Object(s.b)({name:"user",initialState:{logged:!1,token:null,user_id:null},reducers:{loginAction:function(e,t){var n=t.payload,r=n.token,a=n.user_id;e.logged=!0,e.token=r,e.user_id=a},logoutAction:function(e,t){e.logged=!1,e.token=null,e.user_id=null}}}),g=p.actions,O=g.loginAction,m=g.logoutAction,v=p.reducer,w=n(9),y=n.n(w),k=n(18),C=n(4),U=n(201),F=n(213),S=n(215),_=n(216),R=n(50),A=n(217),D=n(236),M=n(137),E=n(88),B=n.n(E).a.create({baseURL:"https://jakki-secret-chat.herokuapp.com/api"});B.interceptors.request.use((function(e){var t=localStorage.getItem("token");return e.headers={Authorization:"JWT ".concat(t)},e}),(function(e){return Promise.reject(e)})),B.interceptors.response.use((function(e){return e}),(function(e){var t=e.response,n=t.status;t.data,t.config;401===n&&(localStorage.removeItem("token"),Me.push("/login"))}));var I=B,W=function(){var e=Object(k.a)(y.a.mark((function e(t,n){var r,a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.post("/login",{username:t,password:n});case 3:return r=e.sent,a=r.data,c=Object(x.a)(a.access_token),e.abrupt("return",{access_token:a.access_token,user_id:c.identity});case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),z=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("/user");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("/user/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log("Failure"),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var T={login:W},Y=Object(o.b)((function(e){return{user:e.user}}),T)((function(e){var t=Object(f.g)(),n=Object(r.useState)(""),a=Object(C.a)(n,2),c=a[0],s=a[1],i=Object(r.useState)(""),u=Object(C.a)(i,2),l=u[0],d=u[1],b=Object(o.c)(),h=function(){var e=Object(k.a)(y.a.mark((function e(n){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,W(c,l);case 3:r=e.sent,localStorage.setItem("token",r.access_token),b(O({token:r.access_token,user_id:r.user_id})),t.push("/");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=Object(U.c)("white","gray.800");return Object(j.jsx)(F.a,{align:"center",justifyContent:"center",maxW:"100%",maxH:"100%",p:10,rounded:"md",bgColor:x,m:5,boxShadow:"md",children:Object(j.jsxs)(S.a,{p:8,maxWidth:"500px",borderWidth:1,borderRadius:8,boxShadow:"lg",children:[Object(j.jsx)(S.a,{textAlign:"center",children:Object(j.jsx)(_.a,{children:"Login"})}),Object(j.jsx)(S.a,{my:4,textAlign:"left",children:Object(j.jsxs)("form",{onSubmit:h,children:[Object(j.jsxs)(R.a,{isRequired:!0,children:[Object(j.jsx)(A.a,{children:"Username"}),Object(j.jsx)(D.a,{type:"text",placeholder:"mystery-user-1",onChange:function(e){return s(e.currentTarget.value)}})]}),Object(j.jsxs)(R.a,{mt:6,isRequired:!0,children:[Object(j.jsx)(A.a,{children:"Password"}),Object(j.jsx)(D.a,{type:"password",placeholder:"*******",onChange:function(e){return d(e.currentTarget.value)}})]}),Object(j.jsx)(M.a,{width:"full",color:"teal",mt:4,type:"submit",children:"Sign In"})]})})]})})})),L=n(16),N=n(133),q=n.n(N),G=n(221),J=n(222),V=n(237),P=n(223),X=n(224),K=n(219),Z=n(225),Q=n(226),$=n(218),ee=n(234),te=n(220);var ne=function(e){var t=new Date(e.time),n="".concat(("0"+t.getHours()).slice(-2),".").concat(("0"+t.getMinutes()).slice(-2)),r=Object(U.c)("white","teal.800");return Object(j.jsxs)(F.a,{justifyContent:e.justifyContent,width:"100%",children:[Object(j.jsxs)(S.a,{display:"flex",boxShadow:"md",bgColor:r,m:"3",p:"3",borderRadius:"20px",children:[Object(j.jsx)($.a,{mr:3,p:1,children:e.content}),Object(j.jsx)($.a,{fontSize:"xs",alignSelf:"flex-end",children:n})]}),Object(j.jsxs)(ee.a,{children:[Object(j.jsx)(ee.b,{as:K.a,alignSelf:"center",color:"gray.200",bgColor:"transparent","aria-label":"Options",icon:Object(j.jsx)(te.a,{}),_hover:{background:"transparent",color:"teal.500"},_focus:{outline:"0"},children:" "}),Object(j.jsx)(ee.d,{minW:"4rem",zIndex:20,children:Object(j.jsx)(ee.c,{onClick:function(){return e.deleteMessage(e.id)},children:"Delete"})})]})]})},re=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()};var ae=function(e){var t,n,r,a=new Date,c=new Date(e.date);if(re(a,c))t="Today";else if(r=c,(n=a).getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()+1)t="Yesterday";else{var o=c.toLocaleString("default",{month:"long"});t="".concat(c.getDate(),". ").concat(o," ").concat(c.getFullYear())}var s=Object(U.c)("yellow.200","yellow.800");return Object(j.jsx)(F.a,{justifyContent:"center",width:"100%",children:Object(j.jsx)(S.a,{boxShadow:"md",bgColor:s,m:"1",p:"1",borderRadius:"20px",children:Object(j.jsx)($.a,{fontSize:"xs",p:1,children:t})})})},ce=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("/message/chatroom/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("/message/user/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),se=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.post("/message",t);case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Remove message with id ",t),e.prev=1,e.next=4,I.delete("/message/".concat(t));case 4:return n=e.sent,e.abrupt("return",n.data);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=Object(k.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("/chatroom");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I.get("/chatroom/".concat(t));case 3:return n=e.sent,e.abrupt("return",n.data);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();var de=Object(o.b)((function(e){return{user:e.user}}),null)((function(e){var t=Object(r.useState)([]),n=Object(C.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)(""),s=Object(C.a)(o,2),i=s[0],u=s[1],l=Object(r.useState)(null),d=Object(C.a)(l,2),b=(d[0],d[1],Object(r.useRef)(null)),h=Object(r.useRef)();Object(r.useEffect)(Object(k.a)(y.a.mark((function t(){var n,r,a,o,s,i,u;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.private){t.next=13;break}return t.next=3,H(e.id);case 3:return n=t.sent,console.log(n),t.next=7,oe(e.id);case 7:r=t.sent,a=r.data,a=f(a),c(a),t.next=23;break;case 13:return t.next=15,le(e.id);case 15:return o=t.sent,console.log(o),t.next=19,ce(e.id);case 19:s=t.sent,i=s.data,i=f(i),c(i);case 23:return(u=q()("http://0.0.0.0:5000/")).on("connect",(function(t){console.log("SOCKET CONNECTION"),console.log(t);var n=[e.user.user_id,e.id].sort().join("");console.log(n);var r=e.private?"chat-".concat(n):"room-".concat(e.id);console.log(r),u.send("join",{room:r})})),u.on("message",(function(e){console.log("RECEIVED DATA",e)})),setTimeout((function(){h.current.scrollIntoView()}),1),t.abrupt("return",(function(){return u.disconnect()}));case 28:case"end":return t.stop()}}),t)}))),[]);var f=function(e){return e.sort((function(e,t){return new Date(e.updated_at)>new Date(t.updated_at)?1:-1}))},x=function(){var t=Object(k.a)(y.a.mark((function t(){var n,r,o;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==i){t.next=9;break}return n=e.private?{content:i,user_id:e.user.user_id,recipient_id:e.id}:{content:i,user_id:e.user.user_id,room_id:e.id},t.next=4,se(n);case 4:r=t.sent,o=f([].concat(Object(L.a)(a),[r.data])),c(o),u(""),h.current.scrollIntoView();case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),p=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Delete message"),console.log(t),e.next=4,ie(t);case 4:n=e.sent,console.log(n),r=a.filter((function(e){return e.id!==t})),c(r);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=Object(U.c)("white","gray.800"),O=Object(U.c)("teal","teal.800");return Object(j.jsxs)(F.a,{maxW:"100%",maxH:"100%",boxShadow:"sm",rounded:"md",bgColor:g,m:2,flexDirection:"column",children:[Object(j.jsxs)(S.a,{display:"flex",borderTopRadius:"md",alignItems:"center",justifyContent:"center",m:0,p:0,bgColor:O,maxW:"100%",height:"70px",textAlign:"center",children:[Object(j.jsx)(G.a,{size:"md",name:"Dan Abrahmov",src:"https://bit.ly/dan-abramov",mr:"3"}),Object(j.jsx)(_.a,{as:"h4",size:"md",color:"white",children:"User"})]}),Object(j.jsxs)(J.a,{maxW:"100%",height:"75vh",overflowY:"scroll",bgColor:g,css:{"::-webkit-scrollbar":{width:"5px",borderRadius:"10px"},"::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"10px"},"::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"10px"},"::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:[Object(j.jsx)(J.b,{children:Object(j.jsx)("div",{ref:b})},"top"),a.map((function(t,n,r){return 0==n?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(J.b,{width:"100%",children:Object(j.jsx)(ae,{date:t.updated_at})},n-1),Object(j.jsx)(J.b,{width:"100%",justifyContent:1===t.user_id?"flex-end":"flex-start",children:Object(j.jsx)(ne,{id:t.id,content:t.content,time:t.updated_at,deleteMessage:p,justifyContent:t.user_id===e.user.user_id?"flex-end":"flex-start"})},n)]}):!1===function(e,t){var n=new Date(e.updated_at),r=new Date(t.updated_at);return re(n,r)}(t,r[n-1])?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(J.b,{width:"100%",children:Object(j.jsx)(ae,{date:t.updated_at})},n),Object(j.jsx)(J.b,{width:"100%",justifyContent:1===t.user_id?"flex-end":"flex-start",children:Object(j.jsx)(ne,{id:t.id,content:t.content,time:t.updated_at,deleteMessage:p,justifyContent:t.user_id===e.user.user_id?"flex-end":"flex-start"})},n)]}):Object(j.jsx)(J.b,{width:"100%",justifyContent:1===t.user_id?"flex-end":"flex-start",children:Object(j.jsx)(ne,{id:t.id,content:t.content,time:t.updated_at,deleteMessage:p,justifyContent:t.user_id===e.user.user_id?"flex-end":"flex-start"})},n)})),Object(j.jsx)(J.b,{children:Object(j.jsx)("div",{ref:h})},"bottom")]}),Object(j.jsx)(S.a,{maxW:"100%",height:"40px",children:Object(j.jsx)(V.a,{spacing:4,children:Object(j.jsxs)(P.a,{children:[Object(j.jsx)(X.a,{pointerEvents:"none",children:Object(j.jsx)(Z.a,{color:"gray.300"})}),Object(j.jsx)(D.a,{size:"md",placeholder:"Message",focusBorderColor:"teal.500",value:i,onChange:function(e){u(e.target.value)},onKeyPress:function(e){return"Enter"===e.key&&x()}}),Object(j.jsx)(X.b,{children:Object(j.jsx)(K.a,{borderTopRadius:"0px",borderBottomLeftRadius:"0px",borderBottomRightRadius:"md",colorScheme:"teal","aria-label":"Send",icon:Object(j.jsx)(Q.a,{}),onClick:function(){return x()}})})]})})})]})})),be=function(e){return Object(j.jsx)("span",{className:"emoji",role:"img","aria-label":e.label?e.label:"","aria-hidden":e.label?"false":"true",children:e.symbol})};var je=function(e){var t=Object(r.useState)([]),n=Object(C.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)([]),s=Object(C.a)(o,2),i=s[0],u=s[1];Object(r.useEffect)(Object(k.a)(y.a.mark((function e(){var t,n,r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:return t=e.sent,n=t.data,e.next=6,ue();case 6:r=e.sent,a=r.data,c(n),u(a);case 10:case"end":return e.stop()}}),e)}))),[]);var l=Object(U.c)("white","gray.800");return Object(U.c)("#123123","#643345"),Object(j.jsxs)(F.a,{maxW:"100%",maxH:"100%",p:2,boxShadow:"sm",rounded:"md",bgColor:l,m:2,children:[Object(j.jsxs)(S.a,{flexGrow:"1",textAlign:"center",children:[Object(j.jsxs)(_.a,{as:"h3",size:"lg",children:[Object(j.jsx)(be,{symbol:"\ud83d\udc65"})," Join a room!"]}),Object(j.jsx)(J.a,{maxHeight:"80vh",overflowY:"scroll",spacing:3,m:1,p:3,css:{"::-webkit-scrollbar":{width:"5px",borderRadius:"10px"},"::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"10px"},"::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"10px"},"::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:i.map((function(e){return Object(j.jsx)(J.b,{children:Object(j.jsx)(M.a,{size:"md",height:"48px",width:"100%",border:"2px",borderColor:"teal",as:"a",href:"/chatroom/"+e.id,children:e.name})},e.id)}))})]}),Object(j.jsxs)(S.a,{flexGrow:"1",textAlign:"center",children:[Object(j.jsxs)(_.a,{as:"h3",size:"lg",children:[Object(j.jsx)(be,{symbol:"\ud83e\udd2b"})," Private chat!"]}),Object(j.jsx)(J.a,{maxHeight:"80vh",overflowY:"scroll",spacing:3,m:1,p:3,css:{"::-webkit-scrollbar":{width:"5px",borderRadius:"10px"},"::-webkit-scrollbar-track":{background:"#f1f1f1",borderRadius:"10px"},"::-webkit-scrollbar-thumb":{background:"#888",borderRadius:"10px"},"::-webkit-scrollbar-thumb:hover":{background:"#555"}},children:a.map((function(e){return Object(j.jsx)(J.b,{children:Object(j.jsx)(M.a,{size:"md",height:"48px",width:"100%",border:"2px",borderColor:"teal",as:"a",href:"/chatroom/private/"+e.id,children:e.username})},e.id)}))})]})]})},he=n(96),fe=n(230),xe=n(229),pe=n(227),ge=n(228);var Oe=function(){var e=Object(U.b)(),t=e.colorMode,n=e.toggleColorMode;return Object(j.jsx)("div",{style:{display:"show"},children:Object(j.jsx)(S.a,{textAlign:"right",py:4,mr:12,children:Object(j.jsx)(K.a,{icon:"light"===t?Object(j.jsx)(pe.a,{}):Object(j.jsx)(ge.a,{}),onClick:n})})})};var me={logoutAction:m},ve=Object(o.b)((function(e){return{user:e.user}}),me)((function(e){var t=Object(o.c)(),n=Object(f.g)(),r=Object(U.c)("white","gray.800");return Object(j.jsxs)(F.a,{align:"center",p:2,boxShadow:"md",borderBottomRadius:"md",bgColor:r,children:[Object(j.jsx)(S.a,{as:"button",p:"2",onClick:function(){n.push("/")},outline:"0",children:Object(j.jsx)(xe.a,{src:"/logo_200.png",alt:"Secret Chat",htmlHeight:"100px",htmlWidth:"150px"})}),Object(j.jsx)(fe.a,{}),e.user.logged?Object(j.jsx)(M.a,{mr:4,colorScheme:"teal",onClick:function(){return t(m()),localStorage.removeItem("token"),void n.push("/login")},children:"Log out"}):Object(j.jsx)(M.a,{mr:4,colorScheme:"teal",onClick:function(){n.push("/login")},children:"Log in"}),Object(j.jsx)(Oe,{})]})})),we=n(231);var ye=function(e){var t=Object(U.c)("teal","gray.800");return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(we.a,{bgColor:t,h:"60px",color:"white",mt:"auto",borderTopRadius:"md",boxShadow:"md",children:Object(j.jsx)($.a,{fontSize:"lg",children:"Made with \ud83d\udc96 from Helsinki"})})})};var ke=function(e){var t=Object(U.c)("gray.200","gray.900");return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)(S.a,{width:"100vw",height:"100vh",maxWidth:"100vw",maxHeight:"100vh",mx:"auto",bgColor:t,backgroundImage:"url('/bg.svg')",children:Object(j.jsxs)(F.a,Object(he.a)(Object(he.a)({direction:"column",maxW:{xl:"1200px"},height:"100%",m:"0 auto"},e),{},{children:[Object(j.jsx)(ve,{}),Object(j.jsx)(S.a,{flex:"1 0 auto",children:e.children}),Object(j.jsx)(ye,{flexShrink:"0"})]}))})})};var Ce=function(e){var t=Object(U.c)("white","gray.800");return Object(j.jsx)(F.a,{align:"center",justifyContent:"center",maxW:"100%",maxH:"100%",p:2,boxShadow:"sm",rounded:"md",bgColor:t,m:2,children:Object(j.jsxs)("div",{children:[Object(j.jsx)(xe.a,{}),Object(j.jsx)($.a,{fontSize:"3xl",children:"404 Not found"})]})})};var Ue=Object(o.b)((function(e){return{user:e.user}}),null)((function(e){var t=Object(o.c)(),n=function(){var n=e.user.token,r=localStorage.getItem("token");if(r&&n)return!0;if(!r&&n)return localStorage.setItem("token",n),!0;if(!n&&r){var a=Object(x.a)(r).identity;return t(O({token:r,user_id:a})),!0}return!1},r=Object(f.h)("/chatroom/:id"),a=Object(f.h)("/chatroom/private/:id"),c=!!a;return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(f.d,{children:[Object(j.jsx)(f.b,{path:["/chatroom/:id","/chatroom/private/:id"],children:function(){return n()?Object(j.jsx)(ke,{children:Object(j.jsx)(de,{private:c,id:Number(c?a.params.id:r.params.id)})}):Object(j.jsx)(f.a,{to:"/login"})}}),Object(j.jsx)(f.b,{path:"/login",children:function(){return n()?Object(j.jsx)(f.a,{to:"/"}):Object(j.jsx)(ke,{children:Object(j.jsx)(Y,{})})}}),Object(j.jsx)(f.b,{exact:!0,path:"/",children:function(){return n()?Object(j.jsx)(ke,{children:Object(j.jsx)(je,{})}):Object(j.jsx)(f.a,{to:"/login"})}}),Object(j.jsx)(f.b,{children:Object(j.jsx)(ke,{children:Object(j.jsx)(Ce,{})})})]})})})),Fe=n(26),Se=Object(Fe.c)({user:v}),_e=(n(198),n(232)),Re=Object(_e.a)({fonts:{heading:"Open Sans",body:"Roboto Mono"},config:{initialColorMode:"light",useSystemColorMode:!1}}),Ae=Object(s.a)({reducer:Se}),De=document.getElementById("root"),Me=Object(d.a)();c.a.render(Object(j.jsxs)(i.a,{theme:Re,children:[Object(j.jsx)(u.a,{initialColorMode:Re.config.initialColorMode}),Object(j.jsx)(h,{}),Object(j.jsx)(o.a,{store:Ae,children:Object(j.jsx)(l.a,{children:Object(j.jsx)(Ue,{})})})]}),De)}},[[199,1,2]]]);
//# sourceMappingURL=main.ba194665.chunk.js.map